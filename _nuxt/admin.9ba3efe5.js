import f from"./progressspinner.esm.683cafac.js";import _ from"./toast.esm.053b323b.js";import{u as d}from"./useNotifToast.35453648.js";import{s as h,G as v,r as y,at as g,c as r,u as k,E as S,b as n,F as T,o as a}from"./entry.d008ba6d.js";import{u as b}from"./global.f57b83eb.js";import"./basecomponent.esm.8e553a4b.js";import"./portal.esm.94d64a71.js";import"./index.esm.35f1050a.js";import"./baseicon.esm.ae8d05ed.js";import"./index.esm.0ce334a2.js";import"./index.esm.3a2b13d8.js";import"./index.esm.107430f4.js";const B={key:1,class:"flex w-screen h-screen justify-center items-center"},A={__name:"admin",setup(E){const c=b(),{profil:t,connected:i}=h(c),{setErrorServer:u,setNotifToast:N}=d(),o=v(),s=y(!0);async function p(){try{const e=await $fetch("/api/a/check_connect");e.status?(t.value=e.user,i.value=!0,t.value.pr_type!="a"&&o.push("/"),s.value=!1):o.push("/login")}catch(e){console.error(e),u()}}return g(()=>{p()}),(e,$)=>{const l=f,m=_;return a(),r(T,null,[k(s)?(a(),r("div",B,[n(l)])):S(e.$slots,"default",{key:0,class:""}),n(m)],64)}}};export{A as default};
